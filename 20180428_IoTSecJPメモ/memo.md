# IoTSecJP Tokyo #3

## 1. Phone Aplliさん

- Phone Aplliさんが提供しているweb電話帳についての説明

シスコシステムズさんやセールスフォースさんがアライアンスパートナー

その他コミュニケーションツール（Slack、Skype など）と連携。

誰がどこにいるか知ることが出来るIoTのシステムとの連携とか

現在は大手が取引相手で悩んでいるらしい

- snow peak * Phone Appli

気持ちのよい自然の香り

会社に来なくてもクオリティの高いコミュニケーション

- weekly 1 on 1ブース

村田製作所さんと共同で実証実験中

部下のメンタルヘルス、コミュニケーション　→　ボックス中の会話などを可視化

- Personal work 集中スペース

ダイエット椅子、集中できるメガネ

- Apple watch全社員貸与

社員の健康管理、意識向上　一人３万円なら逆に安いのでは？

## 2. hogehugaさん　アンチドローンの話

アンチドローンとは

リスクについて、航空防衛コンサルティングファーム　CARCIEL Inc.

「スパイ、密売、攻撃、衝突」

### ドローンの利活用例
- 建設

地図を指定したら自動で空中から撮影

自立飛行しながら建設現場の3Dモデルを作成してくれるらしい

応用すれば自動で農薬を巻くこともできる！さらに赤外線カメラで必要な農薬を

- 郵便

宅配実験した例があるがすぐに衝突したらしい

- 軍事利用

偵察、爆撃、、、かつての兵器より非常にコストが小さくできるが、、

- これらが妨害されると？？

多くの面で”妨害”によって不利益を被ることが明らか→アンチドローンが必要

### どんな機能が？
    - 各種センサで自立飛行

    画像センサ、赤外線センサ、気圧センサ、GPS　→　ホバリング、３次元的な固定

### ドローンとの通信

ドローンとの通信は特定の周波数を利用

テレメトリと制御は帯域が別の可能性がある

通信の内容自体は案外JSONかもしれない？

#### 通信の妨害？

- 通信経路

簡単に電波遮断すれば通信できないよね（法的にはアウトかもしれないけど）

特定のCHのみ無効にもできるよね

- 物理的妨害

超音波を当てるとジャイロセンサが狂っておかしくなる（BlackHat2017）

加速度センサが誤作動するとか、、

画像認識

- ドローン自体への攻撃

USBデバッグして何かしらを仕込む

DJIでAndroidを利用しているものもある

## 3. SDNについてのお話

SDN; Software Defined Radio

OSSで提供されている

KaliLinuxにもSDRのソフトが沢山入っている→ホットトピックらしい

しかしKaliでも使いづらいとか

### FMラジオも聞けるワンセグチューナーにもなる「REALTEKさんのチップ　RTL2832」

無線のELLO WORLDはFMラジオ

（がんばれば）テレビも見れます

受信状況を確認するスペクトラム・アナライザにも

### SIGINT; 飛行機の機内にてADS-B信号の受信をやってみた

専用のソフトウェアを利用すれば航空情報を拾うことが出来る

ADS-Bの信号を解析をしてみれば？

高度・緯度・経度などを見れる

- 受動的な攻撃

ないすまし、偽装攻撃

### 行き過ぎた信頼関係があるのでは？

CANもそうだし、もともと攻撃などを想定してない性善説で成り立ってしまっているのでは？

### おあそび

信号機の信号をハック、トイドローンも

### HackRF

そういえばそんなのありましたね

ちょっとたかい！

### NFC/RFID なら　Proxmark3

最近ホテルのカードキーを複製した人がいましたね、、

日本のホテルのホテルキーだと簡単に。。。？

どうやら部屋番号×入室時間で一意に識別してるらしい？それって宿泊者が複数いる場合にやばいのでは、、、？

### 参考諸説

Inside Radio An attack and Defense Guide



## 深せんにいったはなし

中国のシリコンバレー

新規開発、ハードウェアスタートアップ支援

### キャッシュレス社会

街中どこでもQRコードで支払い

日本みたいにチャージ方式もできるけど、基本的には銀行からの引き落とし

さらには個人間でのやりとりも

### ジャンクショップ

マイニング、ASIC機も普通にうってた　ANT MINER

あやしいスマートカメラ

## yukiさん

資料は後から展開してくれるらしい！

baudrateを調べるツールがあるらしい

Flashromのヒント：I/Oから離れていてなにかしら目印がついているICを探す

### デバッグピンがある

### デバッグピンがない

データシートをぐぐって探す

今回はAttify Badgeを利用してアクセス→SPI、JTAGなどに対応している

spiflashを実行してデータを抽出

flasromを利用してファームウェアをダンプ、binwalkでバイナリを解析、抽出

### チップオフってなに？

### ファームウエアのエミュレーション

webインタフェースを起動→ブルートフォースとか


JATGやシリアルが有効になっているかを確認できるwebサイトもあるよ

IoT調査に便利な物品もまとめている→ｗｅbサイト

## NVさん

ゲーム機（ごにょごにょ）

後ろにある拡張ポートってなんだったんだろう

→内部バスをそのまま引き出したもの、、、、→チートに使われてしまうよね

これ結構自動車のナビ内部のマシン（AGLとか）の解析に使えるのでは？！


## lwIPの話

## 黒林檎さん

脅威モデリングの話

Microsoft Threat Modeling toolがあるらしい。Azure Fuzzとかと組み合わせることができるとか

チャートを作成すると、脅威が姦挙げられる箇所を教えてくれ、ツールで検証も可能

レポートの出力もしてくれる

### そもそもどうやって

簡単な図から攻撃のルートを探すことが大事ヂョね

IPカメラのハッキングの例だと、まずは機器のハック→クラウドハックの可能性もあるよね？

### リスクを考える

シナリオを考えてみる

### IoTセキュリティの範囲とは？まずなにやる？

攻撃経路、シナリオを詳細化する →　これが一番大事（できるかできないかはおいておいて）

SHODANでport554?

IoT自体にセキュリティ機能をいれておいたらいんじゃないんですか？

最近は改ざん機能あるよね

打倒ssmjp！

PentestPartnersってのが面白いらしい

黒林檎さんのinfosec-Hacker

Apple watchのフォレンジックのデータが殺人事件に利用

体重計のLCDを売ってたりとか

最近おもしろいのは喋るおもちゃ（BLEで）

海外の製品を模倣して日本の製品でも同じようにできるのでは？！

日本と海外だとセキュリティの考え方が異なる

まいふれんどけいら　→　プライバシーとセキュリティ

倒産　brick attak

ベンダーが倒産、APIが廃止

### コーヒーメーカ

なりすまし

BLEのハッキング

BLEの通信を傍受、Replay攻撃する

他にもBLEを傍受するツールとか

製品には２つのモード

- 認証あり：単一ユーザ
- 認証なし：複数ユーザ
(認証を入れると複数ユーザの管理が面倒くさい)

AndroidにはBluetothのダンプする機能がある

Attributeプロトコル

スニッフィングに関する知識と組み合わせて

Bluefruit,$24くらい

こうしたReplay攻撃は認証ありモードではできない！

攻撃対象は未認証モードのコーヒーメーカということになる（脅威とリスクの区別）

JTAGに関してはCar Hackers Handbookに記載されているらしい

### テストの例

ホワイト、ブラック、グレー

ホワイトテストは基本的には難し、、、

通常のハッカーはブラックボックステスト

#### ネットワークの攻撃経路を調査

NMAPとか

telnet, https, rtspとかあるみたい

でもアクセスなにもできない

モバイルアクセスをburpとかで盗聴できるよね

アクセスする先は企業のサーバとかなので、そこはわきまえましょう

→次は基盤に直接アクセス

３つピンがそろってたらUART

attify badgeのほうが使いやすいらしい

flashromを使う！！
ダンプ対象なのかリストから確認する

spiflashを使えばダンプしやすい

binwalkする

retdecというデコンパイラ、バイナリをPythonやCとかに書き換えてくれる

これともとに動作を解析、理解する

### その他

雑魚な解析は無償ツールで十分に発券することが出来る

レインボークラック

IoTMalwareもできそう？？

オンラインレインボークラック

未認証のRTSPプロトコルを調査

